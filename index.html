<html>
  <head>
    <script src="/socket.io/socket.io.js"></script>
    <script src="http://code.jquery.com/jquery-2.2.1.min.js"></script>
    <script src="http://code.jquery.com/ui/1.11.4/jquery-ui.min.js"></script>

    <style media="screen">
      #draggable {
        width: 100px;
        height: 100px;
        background: #ccc;
      }
    </style>
  </head>
  <body>
    <div id="dragalert" style="display: none;">DRAGGING!</div>
    <div id="draggable" style="display: none;">DRAG ME ON PHONE</div> 
    </div>

    <script type="text/javascript">
      $(document).ready(function() {
        var socket = io();
        var client = Math.random() + Date.now();
        var mobile = (typeof window.orientation) !== "undefined";
        var dragged;

        if (mobile) {
          $('#draggable').draggable({
              start: function( event, ui ) {
                socket.emit('drags', {client: client});
                alert('hi');
              },
              stop: function( event, ui ) {
                socket.emit('drage', {client: client});
              }
          }).show();
        }

        socket.on('drags', function(coords) {
          if (coords.client != client) {
            $('#dragalert').show();
          }
        });

        socket.on('drage', function(coords) {
          if (coords.client != client) {
            $('#dragalert').hide();
          }
        });

      });
    </script>
  </body>
</html>
